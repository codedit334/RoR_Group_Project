<%= render 'layouts/header' %>
<% if notice %>
  <p class="notice"><%= notice %></p>
<% elsif alert %>      
  <p class="alert"><%= alert %></p>
<% end %>
<h1>General Shopping List</h1>

<p>Total Food Items: <%= @missing_foods.count %></p>
<p>Total Price: <%= @total_price %></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Measurement Unit</th>
      <th>Price</th>
      <th>Quantity</th>
    </tr>
  </thead>
  <tbody>
    <% @missing_foods.each do |missing_food| %>
      <tr>
        <td><%= missing_food[:name] %></td>
        <td><%= @general_food_list.find_by(name: missing_food[:name])&.measurement_unit %></td>
        <td><%= @general_food_list.find_by(name: missing_food[:name])&.price %></td>
        <td><%= missing_food[:quantity] %></td>
      </tr>
    <% end %>
  </tbody>
</table>
